!function(t){(function(){function t(t){return document.querySelectorAll(t)}var e=t(".modal__trigger"),n=t(".modal"),i=t(".modal__bg"),o=t(".modal__content"),a=t(".modal__close"),s=window,d=!1,r=400,l=e.length,c=function(t){t.preventDefault();var e=this,n=e.dataset.modal,i=n.length,o=n.substring(1,i),a=document.getElementById(o);m(e,a)},m=function(t,e){if(null===document.getElementById("modal__temp")){var n=document.createElement("div");n.id="modal__temp",t.appendChild(n),u(t,e,n)}},u=function(t,e,n){var i,o,a,d,l=t.getBoundingClientRect(),c=e,m=c.querySelector(".modal__content").getBoundingClientRect(),u=s.innerWidth/2,f=s.innerHeight/2;t.classList.add("modal__trigger--active"),a=m.width/l.width,d=m.height/l.height,a=a.toFixed(3),d=d.toFixed(3),i=Math.round(u-l.left-l.width/2),o=Math.round(f-l.top-l.height/2),c.classList.contains("modal--align-top")&&(o=Math.round(m.height/2+m.top-l.top-l.height/2)),t.style.transform="translate("+i+"px, "+o+"px)",t.style.webkitTransform="translate("+i+"px, "+o+"px)",n.style.transform="scale("+a+","+d+")",n.style.webkitTransform="scale("+a+","+d+")",window.setTimeout(function(){window.requestAnimationFrame(function(){v(c,n)})},r)},v=function(t,e){function n(){e.style.opacity="0",i.removeEventListener("transitionend",n,!1)}if(!d){document.body.classList.add("modal-is-active");var i=t.querySelector(".modal__content");t.classList.add("modal--active"),i.classList.add("modal__content--active"),i.addEventListener("transitionend",n,!1),d=!0}},f=function(t){t.preventDefault(),t.stopImmediatePropagation(),document.body.classList.remove("modal-is-active");var i=t.target,a=document.getElementById("modal__temp");if(d&&i.classList.contains("modal__bg")||i.classList.contains("modal__close")){a.style.opacity="1",a.removeAttribute("style");for(var s=0;s<l;s++)n[s].classList.remove("modal--active"),o[s].classList.remove("modal__content--active"),e[s].style.transform="none",e[s].style.webkitTransform="none",e[s].classList.remove("modal__trigger--active");a.addEventListener("transitionend",function(){setTimeout(function(){window.requestAnimationFrame(function(){a.remove()})},r-50)},!1),d=!1}},_=function(){for(var t=0;t<l;t++)e[t].addEventListener("click",c,!1),a[t].addEventListener("click",f,!1),i[t].addEventListener("click",f,!1)};return{init:function(){_()}}})().init()}(jQuery);